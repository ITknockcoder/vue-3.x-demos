const t={},e=()=>{},n=Object.prototype.hasOwnProperty,r=(t,e)=>n.call(t,e),o=t=>"function"==typeof t,c=t=>"symbol"==typeof t,u=t=>null!==t&&"object"==typeof t,s=Object.prototype.toString;let a=!0;function i(){a=!0}function l(){a=!1}const f=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(c));function d(t){return function(e,n,r){const o=Reflect.get(e,n,r);return c(n)&&f.has(n)?o:gt(o)?o.value:(it(e,"get",n),u(o)?t?J(o):I(o):o)}}function h(t,e,n,o){n=X(n);const c=r(t,e),u=t[e];if(gt(u)&&!gt(n))return u.value=n,!0;const s=Reflect.set(t,e,n,o);return t===X(o)&&(c?n!==u&&lt(t,"set",e):lt(t,"add",e)),s}function p(t,e){const n=r(t,e),o=(t[e],Reflect.deleteProperty(t,e));return o&&n&&lt(t,"delete",e),o}function g(t,e){const n=Reflect.has(t,e);return it(t,"has",e),n}function y(t){return it(t,"iterate"),Reflect.ownKeys(t)}const v={get:d(!1),set:h,deleteProperty:p,has:g,ownKeys:y},S={get:d(!0),set:(t,e,n,r)=>!!a||h(t,e,n,r),deleteProperty:(t,e)=>!!a||p(t,e),has:g,ownKeys:y},w=t=>u(t)?I(t):t,O=t=>u(t)?J(t):t;function R(t,e,n){t=X(t),e=X(e);const r=Reflect.getPrototypeOf(t);return it(t,"get",e),n(r.get.call(t,e))}function b(t){const e=X(this);t=X(t);const n=Reflect.getPrototypeOf(e);return it(e,"has",t),n.has.call(e,t)}function m(t){t=X(t);const e=Reflect.getPrototypeOf(t);return it(t,"iterate"),Reflect.get(e,"size",t)}function P(t){t=X(t);const e=X(this),n=Reflect.getPrototypeOf(this),r=n.has.call(e,t),o=n.add.call(e,t);return r||lt(e,"add",t),o}function k(t,e){e=X(e);const n=X(this),r=Reflect.getPrototypeOf(this),o=r.has.call(n,t),c=r.get.call(n,t),u=r.set.call(n,t,e);return e!==c&&lt(n,o?"set":"add",t),u}function M(t){const e=X(this),n=Reflect.getPrototypeOf(this),r=n.has.call(e,t),o=(n.get&&n.get.call(e,t),n.delete.call(e,t));return r&&lt(e,"delete",t),o}function W(){const t=X(this),e=Reflect.getPrototypeOf(this),n=0!==t.size,r=e.clear.call(t);return n&&lt(t,"clear"),r}function E(t){return function(e,n){const r=this,o=X(r),c=Reflect.getPrototypeOf(o),u=t?O:w;return it(o,"iterate"),c.forEach.call(o,function(t,n){return e.call(r,u(t),u(n),r)},n)}}function j(t,e){return function(...n){const r=X(this),o=Reflect.getPrototypeOf(r),c="entries"===t||t===Symbol.iterator&&r instanceof Map,u=o[t].apply(r,n),s=e?O:w;return it(r,"iterate"),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:c?[s(t[0]),s(t[1])]:s(t),done:e}},[Symbol.iterator](){return this}}}}function z(t,e){return function(...n){return a?"delete"!==e&&this:t.apply(this,n)}}const x={get(t){return R(this,t,w)},get size(){return m(this)},has:b,add:P,set:k,delete:M,clear:W,forEach:E(!1)},T={get(t){return R(this,t,O)},get size(){return m(this)},has:b,add:z(P,"add"),set:z(k,"set"),delete:z(M,"delete"),clear:z(W,"clear"),forEach:E(!0)};function A(t){return function(e,n,o){return e=r(t,n)&&n in e?t:e,Reflect.get(e,n,o)}}["keys","values","entries",Symbol.iterator].forEach(t=>{x[t]=j(t,!1),T[t]=j(t,!0)});const K={get:A(x)},N={get:A(T)},V=new WeakMap,_=new WeakMap,$=new WeakMap,q=new WeakMap,B=new WeakMap,C=new WeakSet,D=new WeakSet,F=new Set([Set,Map,WeakMap,WeakSet]),G=/^\[object (?:Object|Array|Map|Set|WeakMap|WeakSet)\]$/,H=t=>!t._isVue&&!t._isVNode&&G.test((t=>s.call(t))(t))&&!D.has(t);function I(t){return B.has(t)?t:C.has(t)?J(t):L(t,_,$,v,K)}function J(t){return $.has(t)&&(t=$.get(t)),L(t,q,B,S,N)}function L(t,e,n,r,o){if(!u(t))return t;let c=e.get(t);if(void 0!==c)return c;if(n.has(t))return t;if(!H(t))return t;const s=F.has(t.constructor)?o:r;return c=new Proxy(t,s),e.set(t,c),n.set(c,t),V.has(t)||V.set(t,new Map),c}function Q(t){return $.has(t)||B.has(t)}function U(t){return B.has(t)}function X(t){return $.get(t)||B.get(t)||t}function Y(t){return C.add(t),t}function Z(t){return D.add(t),t}const tt=Symbol(void 0),et=[],nt=Symbol("iterate");function rt(e,n=t){(function(t){return null!=t&&!0===t[tt]})(e)&&(e=e.raw);const r=function(t,e){const n=function(...e){return function(t,e,n){if(!t.active)return e(...n);if(-1===et.indexOf(t)){ct(t);try{return et.push(t),e(...n)}finally{et.pop()}}}(n,t,e)};return n[tt]=!0,n.active=!0,n.raw=t,n.scheduler=e.scheduler,n.onTrack=e.onTrack,n.onTrigger=e.onTrigger,n.onStop=e.onStop,n.computed=e.computed,n.deps=[],n}(e,n);return n.lazy||r(),r}function ot(t){t.active&&(ct(t),t.onStop&&t.onStop(),t.active=!1)}function ct(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ut=!0;function st(){ut=!1}function at(){ut=!0}function it(t,e,n){if(!ut)return;const r=et[et.length-1];if(r){"iterate"===e&&(n=nt);let o=V.get(t);void 0===o&&V.set(t,o=new Map);let c=o.get(n);void 0===c&&o.set(n,c=new Set),c.has(r)||(c.add(r),r.deps.push(c))}}function lt(t,e,n,r){const o=V.get(t);if(void 0===o)return;const c=new Set,u=new Set;if("clear"===e)o.forEach(t=>{ft(c,u,t)});else if(void 0!==n&&ft(c,u,o.get(n)),"add"===e||"delete"===e){const e=Array.isArray(t)?"length":nt;ft(c,u,o.get(e))}const s=t=>{!function(t,e,n,r,o){void 0!==t.scheduler?t.scheduler(t):t()}(t)};u.forEach(s),c.forEach(s)}function ft(t,e,n){void 0!==n&&n.forEach(n=>{n.computed?e.add(n):t.add(n)})}const dt=Symbol(void 0),ht=t=>u(t)?I(t):t;function pt(t){if(gt(t))return t;t=ht(t);const e={[dt]:!0,get value(){return it(e,"get",""),t},set value(n){t=ht(n),lt(e,"set","")}};return e}function gt(t){return!!t&&!0===t[dt]}function yt(t){const e={};for(const n in t)e[n]=vt(t,n);return e}function vt(t,e){return{[dt]:!0,get value(){return t[e]},set value(n){t[e]=n}}}function St(t){const n=o(t),r=n?t:t.get,c=n?e:t.set;let u,s=!0;const a=rt(r,{lazy:!0,computed:!0,scheduler:()=>{s=!0}});return{[dt]:!0,effect:a,get value(){return s&&(u=a(),s=!1),function(t){const e=et[et.length-1];if(e)for(let n=0;n<t.deps.length;n++){const r=t.deps[n];r.has(e)||(r.add(e),e.deps.push(r))}}(a),u},set value(t){c(t)}}}export{nt as ITERATE_KEY,St as computed,rt as effect,Q as isReactive,U as isReadonly,gt as isRef,i as lock,Z as markNonReactive,Y as markReadonly,st as pauseTracking,I as reactive,J as readonly,pt as ref,at as resumeTracking,ot as stop,X as toRaw,yt as toRefs,l as unlock};
